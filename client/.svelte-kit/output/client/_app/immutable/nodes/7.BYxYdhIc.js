import{s as j,n as O,r as B}from"../chunks/scheduler.DFkagfZI.js";import{S as V,i as A,s as g,e as f,o as F,h as H,d as n,c as N,a as h,g as R,b as q,p as J,f as i,j as p,k as x,u as P,v as D,q as K}from"../chunks/index.C2iL-XhR.js";import{a as M}from"../chunks/index.B033ejRg.js";import{a as w}from"../chunks/js.cookie.Cz0CWeBA.js";function z(u){let c,l,T="Login",_,r,t,d,m,a,v,o,C="Log in",y,b,E,U,L;return{c(){c=g(),l=f("h1"),l.textContent=T,_=g(),r=f("div"),t=f("input"),d=g(),m=f("div"),a=f("input"),v=g(),o=f("button"),o.textContent=C,y=g(),b=f("p"),E=F(u[2]),this.h()},l(e){H("svelte-6vfb03",document.head).forEach(n),c=N(e),l=h(e,"H1",{"data-svelte-h":!0}),R(l)!=="svelte-1wsy7a9"&&(l.textContent=T),_=N(e),r=h(e,"DIV",{});var S=q(r);t=h(S,"INPUT",{autocomplete:!0,class:!0,name:!0,placeholder:!0,type:!0}),S.forEach(n),d=N(e),m=h(e,"DIV",{});var k=q(m);a=h(k,"INPUT",{class:!0,name:!0,placeholder:!0,type:!0}),k.forEach(n),v=N(e),o=h(e,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),R(o)!=="svelte-t8ps4p"&&(o.textContent=C),y=N(e),b=h(e,"P",{});var I=q(b);E=J(I,u[2]),I.forEach(n),this.h()},h(){document.title="Sabacc: Login",i(t,"autocomplete","off"),i(t,"class","form-control form-group"),i(t,"name","username"),i(t,"placeholder","Username"),i(t,"type","text"),t.required=!0,i(a,"class","form-control form-group"),i(a,"name","password"),i(a,"placeholder","Password"),i(a,"type","password"),a.required=!0,i(o,"class","btn btn-primary"),i(o,"type","submit")},m(e,s){p(e,c,s),p(e,l,s),p(e,_,s),p(e,r,s),x(r,t),P(t,u[0]),p(e,d,s),p(e,m,s),x(m,a),P(a,u[1]),p(e,v,s),p(e,o,s),p(e,y,s),p(e,b,s),x(b,E),U||(L=[D(t,"input",u[4]),D(a,"input",u[5]),D(o,"click",u[3])],U=!0)},p(e,[s]){s&1&&t.value!==e[0]&&P(t,e[0]),s&2&&a.value!==e[1]&&P(a,e[1]),s&4&&K(E,e[2])},i:O,o:O,d(e){e&&(n(c),n(l),n(_),n(r),n(d),n(m),n(v),n(o),n(y),n(b)),U=!1,B(L)}}}function G(u,c,l){const T="http://127.0.0.1:5000",_="https://sabacc.pages.dev";let r="",t="",d="";w.remove("username"),w.remove("password");async function m(){try{let o={username:r,password:t};const C=await fetch(T+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let y=await C.json();C.ok&&(w.set("username",r,{expires:30}),w.set("password",t,{expires:30}),w.set("dark","false",{expires:30}),w.set("theme","modern",{expires:30}),M(_)),l(2,d=y.message)}catch(o){console.log(o)}}function a(){r=this.value,l(0,r)}function v(){t=this.value,l(1,t)}return[r,t,d,m,a,v]}class Z extends V{constructor(c){super(),A(this,c,G,z,j,{})}}export{Z as component};
