{
    "$schema": "https://json-schema.org/draft-07/schema#",
    "$id": "https://samuelanes.com/schemas/history.json",
    "type": "array",
    "items": {
        "type": "object",
        "properties": {
            "type": {
                "type": "string"
            },
            "changes": {
                "type": "array",
                "items": {
                    "oneOf": [
                        {
                            "type": "object",
                            "properties": {
                                "type": {"type": "string", "enum": ["add", "change"]},
                                "path": {"type": "string"},
                                "value": true
                            },
                            "required": [
                                "type",
                                "path",
                                "value"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "type": {"const": "remove"},
                                "path": {"type": "string"}
                            },
                            "required": [
                                "type",
                                "path"
                            ]
                        }
                    ]
                }
            }
        },
        "required": [
            "type",
            "changes"
        ]
    }
}