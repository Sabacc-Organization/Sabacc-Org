import{s as et,n as Ee,d as tt,f as lt,o as it,r as _e}from"../chunks/scheduler.DFkagfZI.js";import{S as st,i as rt,s as V,n as j,h as nt,d as u,c as w,j as T,e as k,o as U,a as y,b as E,p as R,f as a,t as oe,k as d,v as G,q as K,r as $e,g as ee,y as Te,u as Ne}from"../chunks/index.C2iL-XhR.js";import{e as qe}from"../chunks/each.D6YF6ztN.js";import{p as at}from"../chunks/stores.BJH6eBSf.js";import{a as He}from"../chunks/js.cookie.Cz0CWeBA.js";import{l as ut}from"../chunks/index.CGwCSIWv.js";function je(r,t,e){const i=r.slice();return i[66]=t[e],i[68]=e,i}function Le(r,t,e){const i=r.slice();return i[69]=t[e],i[71]=e,i}function Me(r){let t,e,i,s,l=r[0].phase+"",n,f,o,_,m,h,p,c=r[0].p_act+"",b,v,D,C,I,te,Q,Z=r[0].sabacc_pot+"",F,q,re,ie,se,ne=r[0].hand_pot+"",P,he,le,W,Ve,L,pe,H,X,me,de,be,we,Y,ae,ye,ge,ce,fe,Be,ve,Oe,Se,A=r[0].completed==0&&Fe(r),z=r[0].completed==1&&r[0].player_turn===r[2]&&Ke(r),ke=qe(r[1]),M=[];for(let g=0;g<ke.length;g+=1)M[g]=We(je(r,ke,g));let J=!r[0].completed&&Xe(r),ue=r[18]=="modern"&&It();return{c(){t=k("h1"),e=U(r[8]),i=V(),s=k("h2"),n=U(l),f=U(" phase"),o=V(),_=k("div"),m=k("div"),h=V(),p=k("h2"),b=U(c),v=V(),D=k("div"),C=k("div"),I=k("h5"),te=U("Sabacc: "),Q=k("span"),F=U(Z),q=V(),re=k("h5"),ie=U("Hand: "),se=k("span"),P=U(ne),le=V(),W=k("div"),Ve=V(),L=k("div"),A&&A.c(),pe=V(),H=k("span"),X=k("div"),me=V(),de=k("div"),we=V(),Y=k("div"),ye=V(),z&&z.c(),ge=V();for(let g=0;g<M.length;g+=1)M[g].c();ce=V(),fe=k("div"),J&&J.c(),Be=V(),ue&&ue.c(),ve=j(),this.h()},l(g){t=y(g,"H1",{});var O=E(t);e=R(O,r[8]),O.forEach(u),i=w(g),s=y(g,"H2",{});var S=E(s);n=R(S,l),f=R(S," phase"),S.forEach(u),o=w(g),_=y(g,"DIV",{id:!0});var $=E(_);m=y($,"DIV",{id:!0}),E(m).forEach(u),h=w($),p=y($,"H2",{id:!0});var Ae=E(p);b=R(Ae,c),Ae.forEach(u),v=w($),D=y($,"DIV",{id:!0,class:!0});var x=E(D);C=y(x,"DIV",{id:!0,class:!0});var De=E(C);I=y(De,"H5",{});var Pe=E(I);te=R(Pe,"Sabacc: "),Q=y(Pe,"SPAN",{id:!0});var Ue=E(Q);F=R(Ue,Z),Ue.forEach(u),Pe.forEach(u),q=w(De),re=y(De,"H5",{});var Ge=E(re);ie=R(Ge,"Hand: "),se=y(Ge,"SPAN",{id:!0});var Re=E(se);P=R(Re,ne),Re.forEach(u),Ge.forEach(u),De.forEach(u),le=w(x),W=y(x,"DIV",{id:!0,class:!0}),E(W).forEach(u),Ve=w(x),L=y(x,"DIV",{id:!0,class:!0});var B=E(L);A&&A.l(B),B.forEach(u),pe=w(x),H=y(x,"SPAN",{class:!0});var N=E(H);X=y(N,"DIV",{id:!0,class:!0}),E(X).forEach(u),me=w(N),de=y(N,"DIV",{id:!0,class:!0}),E(de).forEach(u),N.forEach(u),we=w(x),Y=y(x,"DIV",{id:!0,class:!0}),E(Y).forEach(u),ye=w(x),z&&z.l(x),x.forEach(u),ge=w($);for(let Ie=0;Ie<M.length;Ie+=1)M[Ie].l($);ce=w($),fe=y($,"DIV",{id:!0});var Ce=E(fe);J&&J.l(Ce),Ce.forEach(u),$.forEach(u),Be=w(g),ue&&ue.l(g),ve=j(),this.h()},h(){a(m,"id","table"),a(p,"id","pAction"),a(Q,"id","sabacc_pot"),a(se,"id","hand_pot"),a(C,"id","pots"),a(C,"class",he="child "+r[12]+" svelte-emteyc"),oe(C,"active",r[12]),a(W,"id","deck"),a(W,"class","card child"),oe(W,"active",r[13]),a(L,"id","discard"),a(L,"class","card child"),oe(L,"active",r[13]),a(X,"id","dieOne"),a(X,"class","child die"),a(de,"id","dieTwo"),a(de,"class",be="child die shift"+r[0].shift+" svelte-emteyc"),a(H,"class","dieContainer"),oe(H,"shiftActive",r[15]),a(Y,"id","alderaan"),a(Y,"class",ae="child alderaan "+r[0].phase+"Blown svelte-emteyc"),oe(Y,"active",r[14]),a(D,"id","gameInfo"),a(D,"class","parent"),a(fe,"id","actBox"),a(_,"id","tableCont")},m(g,O){T(g,t,O),d(t,e),T(g,i,O),T(g,s,O),d(s,n),d(s,f),T(g,o,O),T(g,_,O),d(_,m),d(_,h),d(_,p),d(p,b),d(_,v),d(_,D),d(D,C),d(C,I),d(I,te),d(I,Q),d(Q,F),d(C,q),d(C,re),d(re,ie),d(re,se),d(se,P),d(D,le),d(D,W),d(D,Ve),d(D,L),A&&A.m(L,null),d(D,pe),d(D,H),d(H,X),d(H,me),d(H,de),d(D,we),d(D,Y),d(D,ye),z&&z.m(D,null),d(_,ge);for(let S=0;S<M.length;S+=1)M[S]&&M[S].m(_,null);d(_,ce),d(_,fe),J&&J.m(fe,null),T(g,Be,O),ue&&ue.m(g,O),T(g,ve,O),Oe||(Se=[G(C,"dblclick",r[23]),G(W,"click",r[28]),G(H,"click",r[33]),G(Y,"click",r[32])],Oe=!0)},p(g,O){if(O[0]&256&&K(e,g[8]),O[0]&1&&l!==(l=g[0].phase+"")&&K(n,l),O[0]&1&&c!==(c=g[0].p_act+"")&&K(b,c),O[0]&1&&Z!==(Z=g[0].sabacc_pot+"")&&K(F,Z),O[0]&1&&ne!==(ne=g[0].hand_pot+"")&&K(P,ne),O[0]&4096&&he!==(he="child "+g[12]+" svelte-emteyc")&&a(C,"class",he),O[0]&4096&&oe(C,"active",g[12]),O[0]&8192&&oe(W,"active",g[13]),g[0].completed==0?A?A.p(g,O):(A=Fe(g),A.c(),A.m(L,null)):A&&(A.d(1),A=null),O[0]&8192&&oe(L,"active",g[13]),O[0]&1&&be!==(be="child die shift"+g[0].shift+" svelte-emteyc")&&a(de,"class",be),O[0]&32768&&oe(H,"shiftActive",g[15]),O[0]&1&&ae!==(ae="child alderaan "+g[0].phase+"Blown svelte-emteyc")&&a(Y,"class",ae),O[0]&16385&&oe(Y,"active",g[14]),g[0].completed==1&&g[0].player_turn===g[2]?z?z.p(g,O):(z=Ke(g),z.c(),z.m(D,null)):z&&(z.d(1),z=null),O[0]&1094320643){ke=qe(g[1]);let S;for(S=0;S<ke.length;S+=1){const $=je(g,ke,S);M[S]?M[S].p($,O):(M[S]=We($),M[S].c(),M[S].m(_,ce))}for(;S<M.length;S+=1)M[S].d(1);M.length=ke.length}g[0].completed?J&&(J.d(1),J=null):J?J.p(g,O):(J=Xe(g),J.c(),J.m(fe,null))},d(g){g&&(u(t),u(i),u(s),u(o),u(_),u(Be),u(ve)),A&&A.d(),z&&z.d(),$e(M,g),J&&J.d(),ue&&ue.d(g),Oe=!1,_e(Se)}}}function Fe(r){let t,e=r[0].player_turn===r[2]&&ze(r);return{c(){e&&e.c(),t=j()},l(i){e&&e.l(i),t=j()},m(i,s){e&&e.m(i,s),T(i,t,s)},p(i,s){i[0].player_turn===i[2]?e?e.p(i,s):(e=ze(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(i){i&&u(t),e&&e.d(i)}}}function ze(r){let t,e=(r[0].phase==="card"||r[0].phase==="alderaan")&&Je(r);return{c(){e&&e.c(),t=j()},l(i){e&&e.l(i),t=j()},m(i,s){e&&e.m(i,s),T(i,t,s)},p(i,s){i[0].phase==="card"||i[0].phase==="alderaan"?e?e.p(i,s):(e=Je(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(i){i&&u(t),e&&e.d(i)}}}function Je(r){let t,e="Trade",i,s,l,n,f="Stand",o,_;return{c(){t=k("button"),t.textContent=e,i=V(),s=k("br"),l=V(),n=k("button"),n.textContent=f,this.h()},l(m){t=y(m,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1e5btwy"&&(t.textContent=e),i=w(m),s=y(m,"BR",{}),l=w(m),n=y(m,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1b6ly86"&&(n.textContent=f),this.h()},h(){a(t,"type","button"),a(t,"id","tradeBtn"),a(t,"class","btn btn-primary smol"),a(n,"type","button"),a(n,"id","standBtn"),a(n,"class","btn btn-primary smol")},m(m,h){T(m,t,h),T(m,i,h),T(m,s,h),T(m,l,h),T(m,n,h),o||(_=[G(t,"click",r[29]),G(n,"click",r[31])],o=!0)},p:Ee,d(m){m&&(u(t),u(i),u(s),u(l),u(n)),o=!1,_e(_)}}}function Ke(r){let t,e="Play Again",i,s;return{c(){t=k("button"),t.textContent=e,this.h()},l(l){t=y(l,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-gyogp1"&&(t.textContent=e),this.h()},h(){a(t,"type","button"),a(t,"id","pAgainBtn"),a(t,"class","btn btn-primary")},m(l,n){T(l,t,n),i||(s=G(t,"click",r[34]),i=!0)},p:Ee,d(l){l&&u(t),i=!1,s()}}}function ot(r){let t,e,i,s=(r[66].bet===null?"":r[66].bet)+"",l,n,f;return{c(){t=k("div"),e=k("h5"),i=k("div"),l=U(s),this.h()},l(o){t=y(o,"DIV",{id:!0,class:!0});var _=E(t);e=y(_,"H5",{});var m=E(e);i=y(m,"DIV",{class:!0}),E(i).forEach(u),l=R(m,s),m.forEach(u),_.forEach(u),this.h()},h(){a(i,"class","imperial-credits-logo"),a(t,"id",n=r[66].username+"BetBox"),a(t,"class",f="backRed "+(r[0].player_turn==r[66].id?"turnGlow":"noTurnGlow"))},m(o,_){T(o,t,_),d(t,e),d(e,i),d(e,l)},p(o,_){_[0]&2&&s!==(s=(o[66].bet===null?"":o[66].bet)+"")&&K(l,s),_[0]&2&&n!==(n=o[66].username+"BetBox")&&a(t,"id",n),_[0]&3&&f!==(f="backRed "+(o[0].player_turn==o[66].id?"turnGlow":"noTurnGlow"))&&a(t,"class",f)},d(o){o&&u(t)}}}function dt(r){let t,e,i,s,l=(r[66].bet===null?"":r[66].bet)+"",n,f,o,_,m,h;return{c(){t=k("div"),e=k("h5"),i=k("div"),s=k("span"),n=U(l),f=V(),o=k("div"),this.h()},l(p){t=y(p,"DIV",{id:!0,class:!0});var c=E(t);e=y(c,"H5",{});var b=E(e);i=y(b,"DIV",{class:!0}),E(i).forEach(u),s=y(b,"SPAN",{id:!0});var v=E(s);n=R(v,l),v.forEach(u),b.forEach(u),f=w(c),o=y(c,"DIV",{id:!0}),E(o).forEach(u),c.forEach(u),this.h()},h(){a(i,"class","imperial-credits-logo"),a(s,"id","betSpan"),a(o,"id",_=r[66].username+"BetPile"),a(t,"id",m=r[66].username+"BetBox"),a(t,"class",h="backBlue "+(r[0].player_turn==r[66].id?"turnGlow":"noTurnGlow"))},m(p,c){T(p,t,c),d(t,e),d(e,i),d(e,s),d(s,n),d(t,f),d(t,o)},p(p,c){c[0]&2&&l!==(l=(p[66].bet===null?"":p[66].bet)+"")&&K(n,l),c[0]&2&&_!==(_=p[66].username+"BetPile")&&a(o,"id",_),c[0]&2&&m!==(m=p[66].username+"BetBox")&&a(t,"id",m),c[0]&3&&h!==(h="backBlue "+(p[0].player_turn==p[66].id?"turnGlow":"noTurnGlow"))&&a(t,"class",h)},d(p){p&&u(t)}}}function ct(r){let t,e,i,s,l=r[69].val+"",n;return{c(){t=k("div"),i=V(),s=k("h5"),n=U(l),this.h()},l(f){t=y(f,"DIV",{class:!0,style:!0}),E(t).forEach(u),i=w(f),s=y(f,"H5",{});var o=E(s);n=R(o,l),o.forEach(u),this.h()},h(){a(t,"class","card child"),a(t,"style",e=r[19](r[69]))},m(f,o){T(f,t,o),T(f,i,o),T(f,s,o),d(s,n)},p(f,o){o[0]&2&&e!==(e=f[19](f[69]))&&a(t,"style",e),o[0]&2&&l!==(l=f[69].val+"")&&K(n,l)},d(f){f&&(u(t),u(i),u(s))}}}function ft(r){let t;function e(l,n){return l[69].prot?ht:pt}let i=e(r),s=i(r);return{c(){s.c(),t=j()},l(l){s.l(l),t=j()},m(l,n){s.m(l,n),T(l,t,n)},p(l,n){i===(i=e(l))&&s?s.p(l,n):(s.d(1),s=i(l),s&&(s.c(),s.m(t.parentNode,t)))},d(l){l&&u(t),s.d(l)}}}function _t(r){let t;function e(l,n){return l[69].prot?mt:bt}let i=e(r),s=i(r);return{c(){s.c(),t=j()},l(l){s.l(l),t=j()},m(l,n){s.m(l,n),T(l,t,n)},p(l,n){i===(i=e(l))&&s?s.p(l,n):(s.d(1),s=i(l),s&&(s.c(),s.m(t.parentNode,t)))},d(l){l&&u(t),s.d(l)}}}function ht(r){let t,e,i,s,l=r[69].val+"",n;return{c(){t=k("div"),i=V(),s=k("h5"),n=U(l),this.h()},l(f){t=y(f,"DIV",{class:!0,style:!0}),E(t).forEach(u),i=w(f),s=y(f,"H5",{class:!0});var o=E(s);n=R(o,l),o.forEach(u),this.h()},h(){a(t,"class","card child protected"),a(t,"style",e=r[19](r[69])),a(s,"class","protected")},m(f,o){T(f,t,o),T(f,i,o),T(f,s,o),d(s,n)},p(f,o){o[0]&2&&e!==(e=f[19](f[69]))&&a(t,"style",e),o[0]&2&&l!==(l=f[69].val+"")&&K(n,l)},d(f){f&&(u(t),u(i),u(s))}}}function pt(r){let t;return{c(){t=k("div"),this.h()},l(e){t=y(e,"DIV",{class:!0,style:!0}),E(t).forEach(u),this.h()},h(){a(t,"class","card child"),a(t,"style",r[20]())},m(e,i){T(e,t,i)},p:Ee,d(e){e&&u(t)}}}function mt(r){let t,e,i,s,l=r[69].val+"",n,f,o;function _(){return r[39](r[69])}return{c(){t=k("div"),i=V(),s=k("h5"),n=U(l),this.h()},l(m){t=y(m,"DIV",{id:!0,class:!0,style:!0});var h=E(t);h.forEach(u),i=w(m),s=y(m,"H5",{class:!0});var p=E(s);n=R(p,l),p.forEach(u),this.h()},h(){a(t,"id","card"+r[71].toString()),a(t,"class","card child own protected"),a(t,"style",e=r[19](r[69])),a(s,"class","protected")},m(m,h){T(m,t,h),T(m,i,h),T(m,s,h),d(s,n),f||(o=G(t,"click",_),f=!0)},p(m,h){r=m,h[0]&2&&e!==(e=r[19](r[69]))&&a(t,"style",e),h[0]&2&&l!==(l=r[69].val+"")&&K(n,l)},d(m){m&&(u(t),u(i),u(s)),f=!1,o()}}}function bt(r){let t,e,i,s,l=r[69].val+"",n,f,o;function _(){return r[37](r[69])}function m(){return r[38](r[69])}return{c(){t=k("div"),i=V(),s=k("h5"),n=U(l),this.h()},l(h){t=y(h,"DIV",{id:!0,class:!0,style:!0});var p=E(t);p.forEach(u),i=w(h),s=y(h,"H5",{});var c=E(s);n=R(c,l),c.forEach(u),this.h()},h(){a(t,"id","card"+r[71].toString()),a(t,"class","card child own"),a(t,"style",e=r[19](r[69]))},m(h,p){T(h,t,p),T(h,i,p),T(h,s,p),d(s,n),f||(o=[G(t,"click",_),G(t,"dblclick",m)],f=!0)},p(h,p){r=h,p[0]&2&&e!==(e=r[19](r[69]))&&a(t,"style",e),p[0]&2&&l!==(l=r[69].val+"")&&K(n,l)},d(h){h&&(u(t),u(i),u(s)),f=!1,_e(o)}}}function Qe(r){let t,e;function i(n,f){if(n[66].username===n[17])return _t;if(n[0].completed==0)return ft;if(n[0].completed==1)return ct}let s=i(r),l=s&&s(r);return{c(){t=k("div"),l&&l.c(),e=V(),this.h()},l(n){t=y(n,"DIV",{class:!0});var f=E(t);l&&l.l(f),e=w(f),f.forEach(u),this.h()},h(){a(t,"class","cardContainer")},m(n,f){T(n,t,f),l&&l.m(t,null),d(t,e)},p(n,f){s===(s=i(n))&&l?l.p(n,f):(l&&l.d(1),l=s&&s(n),l&&(l.c(),l.m(t,e)))},d(n){n&&u(t),l&&l.d()}}}function vt(r){let t,e,i=r[66].username+"",s,l,n,f='<div class="chip bigChip child"></div> <div class="chip midChip child"></div> <div class="chip lowChip child"></div>',o,_,m,h,p=r[66].credits+"",c,b,v,D;return{c(){t=k("div"),e=k("h5"),s=U(i),l=V(),n=k("div"),n.innerHTML=f,o=V(),_=k("h5"),m=k("div"),h=k("span"),c=U(p),this.h()},l(C){t=y(C,"DIV",{id:!0,class:!0});var I=E(t);e=y(I,"H5",{});var te=E(e);s=R(te,i),te.forEach(u),l=w(I),n=y(I,"DIV",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-oonv3d"&&(n.innerHTML=f),o=w(I),_=y(I,"H5",{});var Q=E(_);m=y(Q,"DIV",{class:!0}),E(m).forEach(u),h=y(Q,"SPAN",{id:!0});var Z=E(h);c=R(Z,p),Z.forEach(u),Q.forEach(u),I.forEach(u),this.h()},h(){a(n,"class","parent"),a(m,"class","imperial-credits-logo"),a(h,"id",b=r[66].username+"_credits"),a(t,"id",v=r[66].username+"Box"),a(t,"class",D="backRed "+(r[0].player_turn==r[66].id?"turnGlow":"noTurnGlow")+" playerBox")},m(C,I){T(C,t,I),d(t,e),d(e,s),d(t,l),d(t,n),d(t,o),d(t,_),d(_,m),d(_,h),d(h,c)},p(C,I){I[0]&2&&i!==(i=C[66].username+"")&&K(s,i),I[0]&2&&p!==(p=C[66].credits+"")&&K(c,p),I[0]&2&&b!==(b=C[66].username+"_credits")&&a(h,"id",b),I[0]&2&&v!==(v=C[66].username+"Box")&&a(t,"id",v),I[0]&3&&D!==(D="backRed "+(C[0].player_turn==C[66].id?"turnGlow":"noTurnGlow")+" playerBox")&&a(t,"class",D)},d(C){C&&u(t)}}}function kt(r){let t,e,i=r[66].username+"",s,l,n,f,o,_,m,h,p,c,b,v,D=r[66].credits+"",C,I,te,Q,Z;return{c(){t=k("div"),e=k("h5"),s=U(i),l=V(),n=k("div"),f=k("div"),o=V(),_=k("div"),m=V(),h=k("div"),p=V(),c=k("h5"),b=k("div"),v=k("span"),C=U(D),this.h()},l(F){t=y(F,"DIV",{id:!0,class:!0});var q=E(t);e=y(q,"H5",{});var re=E(e);s=R(re,i),re.forEach(u),l=w(q),n=y(q,"DIV",{class:!0});var ie=E(n);f=y(ie,"DIV",{class:!0}),E(f).forEach(u),o=w(ie),_=y(ie,"DIV",{class:!0}),E(_).forEach(u),m=w(ie),h=y(ie,"DIV",{class:!0}),E(h).forEach(u),ie.forEach(u),p=w(q),c=y(q,"H5",{});var se=E(c);b=y(se,"DIV",{class:!0}),E(b).forEach(u),v=y(se,"SPAN",{id:!0});var ne=E(v);C=R(ne,D),ne.forEach(u),se.forEach(u),q.forEach(u),this.h()},h(){a(f,"class","ownChip child chip bigChip"),a(_,"class","ownChip child chip midChip"),a(h,"class","ownChip child chip lowChip"),a(n,"class","parent"),a(b,"class","imperial-credits-logo"),a(v,"id","credits"),a(t,"id",I=r[66].username+"Box"),a(t,"class",te="backBlue "+(r[0].player_turn==r[66].id?"turnGlow":"noTurnGlow")+" playerBox")},m(F,q){T(F,t,q),d(t,e),d(e,s),d(t,l),d(t,n),d(n,f),d(n,o),d(n,_),d(n,m),d(n,h),d(t,p),d(t,c),d(c,b),d(c,v),d(v,C),Q||(Z=[G(f,"click",r[40]),G(_,"click",r[41]),G(h,"click",r[42])],Q=!0)},p(F,q){q[0]&2&&i!==(i=F[66].username+"")&&K(s,i),q[0]&2&&D!==(D=F[66].credits+"")&&K(C,D),q[0]&2&&I!==(I=F[66].username+"Box")&&a(t,"id",I),q[0]&3&&te!==(te="backBlue "+(F[0].player_turn==F[66].id?"turnGlow":"noTurnGlow")+" playerBox")&&a(t,"class",te)},d(F){F&&u(t),Q=!1,_e(Z)}}}function We(r){let t,e,i,s,l,n;function f(v,D){return v[66].username===v[17]?dt:ot}let o=f(r),_=o(r),m=qe(r[1][r[68]].hand),h=[];for(let v=0;v<m.length;v+=1)h[v]=Qe(Le(r,m,v));function p(v,D){return v[66].username===v[17]?kt:vt}let c=p(r),b=c(r);return{c(){t=k("div"),_.c(),e=V(),i=k("div");for(let v=0;v<h.length;v+=1)h[v].c();s=V(),b.c(),this.h()},l(v){t=y(v,"DIV",{id:!0,class:!0});var D=E(t);_.l(D),e=w(D),i=y(D,"DIV",{class:!0});var C=E(i);for(let I=0;I<h.length;I+=1)h[I].l(C);C.forEach(u),s=w(D),b.l(D),D.forEach(u),this.h()},h(){a(i,"class","cardsContainer"),a(t,"id",l=r[66].username+"Stuff"),a(t,"class",n="parent player"+r[9].indexOf(r[66])+" svelte-emteyc")},m(v,D){T(v,t,D),_.m(t,null),d(t,e),d(t,i);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(i,null);d(t,s),b.m(t,null)},p(v,D){if(o===(o=f(v))&&_?_.p(v,D):(_.d(1),_=o(v),_&&(_.c(),_.m(t,e))),D[0]&1077542915){m=qe(v[1][v[68]].hand);let C;for(C=0;C<m.length;C+=1){const I=Le(v,m,C);h[C]?h[C].p(I,D):(h[C]=Qe(I),h[C].c(),h[C].m(i,null))}for(;C<h.length;C+=1)h[C].d(1);h.length=m.length}c===(c=p(v))&&b?b.p(v,D):(b.d(1),b=c(v),b&&(b.c(),b.m(t,null))),D[0]&2&&l!==(l=v[66].username+"Stuff")&&a(t,"id",l),D[0]&514&&n!==(n="parent player"+v[9].indexOf(v[66])+" svelte-emteyc")&&a(t,"class",n)},d(v){v&&u(t),_.d(),$e(h,v),b.d()}}}function Xe(r){let t,e=r[0].player_turn===r[2]&&Ye(r);return{c(){e&&e.c(),t=j()},l(i){e&&e.l(i),t=j()},m(i,s){e&&e.m(i,s),T(i,t,s)},p(i,s){i[0].player_turn===i[2]?e?e.p(i,s):(e=Ye(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(i){i&&u(t),e&&e.d(i)}}}function Ye(r){let t,e=r[0].phase==="betting"&&Ze(r);return{c(){e&&e.c(),t=j()},l(i){e&&e.l(i),t=j()},m(i,s){e&&e.m(i,s),T(i,t,s)},p(i,s){i[0].phase==="betting"?e?e.p(i,s):(e=Ze(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(i){i&&u(t),e&&e.d(i)}}}function Ze(r){let t;function e(l,n){return l[3]===0?Et:l[5]===!1?Ct:yt}let i=e(r),s=i(r);return{c(){s.c(),t=j()},l(l){s.l(l),t=j()},m(l,n){s.m(l,n),T(l,t,n)},p(l,n){i===(i=e(l))&&s?s.p(l,n):(s.d(1),s=i(l),s&&(s.c(),s.m(t.parentNode,t)))},d(l){l&&u(t),s.d(l)}}}function yt(r){let t,e,i,s,l,n,f="Raise",o,_,m,h,p;return{c(){t=k("div"),e=k("input"),l=V(),n=k("button"),n.textContent=f,o=V(),_=k("p"),m=U(r[10]),this.h()},l(c){t=y(c,"DIV",{id:!0,class:!0});var b=E(t);e=y(b,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),l=w(b),n=y(b,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1amzelr"&&(n.textContent=f),o=w(b),_=y(b,"P",{class:!0});var v=E(_);m=R(v,r[10]),v.forEach(u),b.forEach(u),this.h()},h(){a(e,"id","raiseCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min",i=r[6]+1),a(e,"max",s=r[1][r[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(n,"id","raiseBtn"),a(n,"type","button"),a(n,"class","btn btn-primary"),a(_,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(c,b){T(c,t,b),d(t,e),Ne(e,r[4]),d(t,l),d(t,n),d(t,o),d(t,_),d(_,m),h||(p=[G(e,"input",r[49]),G(n,"click",r[50])],h=!0)},p(c,b){b[0]&64&&i!==(i=c[6]+1)&&a(e,"min",i),b[0]&10&&s!==(s=c[1][c[3]].credits)&&a(e,"max",s),b[0]&16&&Te(e.value)!==c[4]&&Ne(e,c[4]),b[0]&1024&&K(m,c[10])},d(c){c&&u(t),h=!1,_e(p)}}}function Ct(r){let t,e,i="Call",s,l,n="Raise",f,o,_="Fold",m,h;return{c(){t=k("div"),e=k("button"),e.textContent=i,s=V(),l=k("button"),l.textContent=n,f=V(),o=k("button"),o.textContent=_,this.h()},l(p){t=y(p,"DIV",{id:!0,class:!0});var c=E(t);e=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-p5xdvm"&&(e.textContent=i),s=w(c),l=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-18a1yjq"&&(l.textContent=n),f=w(c),o=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1p1dlkj"&&(o.textContent=_),c.forEach(u),this.h()},h(){a(e,"type","button"),a(e,"id","callOpt"),a(e,"class","btn btn-primary"),a(l,"type","button"),a(l,"id","raiseOpt"),a(l,"class","btn btn-primary"),a(o,"type","button"),a(o,"id","foldOpt"),a(o,"class","btn btn-primary"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(p,c){T(p,t,c),d(t,e),d(t,s),d(t,l),d(t,f),d(t,o),m||(h=[G(e,"click",r[25]),G(l,"click",r[48]),G(o,"click",r[27])],m=!0)},p:Ee,d(p){p&&u(t),m=!1,_e(h)}}}function Et(r){let t;function e(l,n){return l[1][l[3]+1].bet===null?Dt:l[5]===!1?Bt:gt}let i=e(r),s=i(r);return{c(){s.c(),t=j()},l(l){s.l(l),t=j()},m(l,n){s.m(l,n),T(l,t,n)},p(l,n){i===(i=e(l))&&s?s.p(l,n):(s.d(1),s=i(l),s&&(s.c(),s.m(t.parentNode,t)))},d(l){l&&u(t),s.d(l)}}}function gt(r){let t,e,i,s,l,n,f="Raise",o,_,m,h,p;return{c(){t=k("div"),e=k("input"),l=V(),n=k("button"),n.textContent=f,o=V(),_=k("p"),m=U(r[10]),this.h()},l(c){t=y(c,"DIV",{id:!0,class:!0});var b=E(t);e=y(b,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),l=w(b),n=y(b,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-16eig2l"&&(n.textContent=f),o=w(b),_=y(b,"P",{class:!0});var v=E(_);m=R(v,r[10]),v.forEach(u),b.forEach(u),this.h()},h(){a(e,"id","raiseCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min",i=r[6]+1),a(e,"max",s=r[1][r[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(n,"id","raiseBtn"),a(n,"type","button"),a(n,"class","btn btn-primary"),a(_,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(c,b){T(c,t,b),d(t,e),Ne(e,r[4]),d(t,l),d(t,n),d(t,o),d(t,_),d(_,m),h||(p=[G(e,"input",r[46]),G(n,"click",r[47])],h=!0)},p(c,b){b[0]&64&&i!==(i=c[6]+1)&&a(e,"min",i),b[0]&10&&s!==(s=c[1][c[3]].credits)&&a(e,"max",s),b[0]&16&&Te(e.value)!==c[4]&&Ne(e,c[4]),b[0]&1024&&K(m,c[10])},d(c){c&&u(t),h=!1,_e(p)}}}function Bt(r){let t,e,i="Call",s,l,n="Raise",f,o,_="Fold",m,h;return{c(){t=k("div"),e=k("button"),e.textContent=i,s=V(),l=k("button"),l.textContent=n,f=V(),o=k("button"),o.textContent=_,this.h()},l(p){t=y(p,"DIV",{id:!0,class:!0});var c=E(t);e=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-p5xdvm"&&(e.textContent=i),s=w(c),l=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-18a1yjq"&&(l.textContent=n),f=w(c),o=y(c,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1p1dlkj"&&(o.textContent=_),c.forEach(u),this.h()},h(){a(e,"type","button"),a(e,"id","callOpt"),a(e,"class","btn btn-primary"),a(l,"type","button"),a(l,"id","raiseOpt"),a(l,"class","btn btn-primary"),a(o,"type","button"),a(o,"id","foldOpt"),a(o,"class","btn btn-primary"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(p,c){T(p,t,c),d(t,e),d(t,s),d(t,l),d(t,f),d(t,o),m||(h=[G(e,"click",r[25]),G(l,"click",r[45]),G(o,"click",r[27])],m=!0)},p:Ee,d(p){p&&u(t),m=!1,_e(h)}}}function Dt(r){let t,e,i,s,l,n="Bet",f,o,_,m,h;return{c(){t=k("div"),e=k("input"),s=V(),l=k("button"),l.textContent=n,f=V(),o=k("p"),_=U(r[10]),this.h()},l(p){t=y(p,"DIV",{id:!0,class:!0});var c=E(t);e=y(c,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),s=w(c),l=y(c,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-9v29r"&&(l.textContent=n),f=w(c),o=y(c,"P",{class:!0});var b=E(o);_=R(b,r[10]),b.forEach(u),c.forEach(u),this.h()},h(){a(e,"id","betCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min","0"),a(e,"max",i=r[1][r[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(l,"id","betBtn"),a(l,"type","button"),a(l,"class","btn btn-primary"),a(o,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(p,c){T(p,t,c),d(t,e),Ne(e,r[4]),d(t,s),d(t,l),d(t,f),d(t,o),d(o,_),m||(h=[G(e,"input",r[43]),G(l,"click",r[44])],m=!0)},p(p,c){c[0]&10&&i!==(i=p[1][p[3]].credits)&&a(e,"max",i),c[0]&16&&Te(e.value)!==p[4]&&Ne(e,p[4]),c[0]&1024&&K(_,p[10])},d(p){p&&u(t),m=!1,_e(h)}}}function It(r){let t,e='<a href="http://creativecommons.org/licenses/by-sa/4.0/"><div id="jacob-densford-credit-attribution"></div></a> <a href="http://creativecommons.org/licenses/by-sa/4.0/">Credit to Jacob Densford for table and betting chip design</a>';return{c(){t=k("div"),t.innerHTML=e,this.h()},l(i){t=y(i,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1npx5dp"&&(t.innerHTML=e),this.h()},h(){a(t,"class","credit-attribution")},m(i,s){T(i,t,s)},d(i){i&&u(t)}}}function Tt(r){let t,e,i;document.title=t="Sabacc: Game "+r[16];let s=r[7]&&Me(r);return{c(){e=V(),s&&s.c(),i=j()},l(l){nt("svelte-1k8k4nw",document.head).forEach(u),e=w(l),s&&s.l(l),i=j()},m(l,n){T(l,e,n),s&&s.m(l,n),T(l,i,n)},p(l,n){n[0]&65536&&t!==(t="Sabacc: Game "+l[16])&&(document.title=t),l[7]?s?s.p(l,n):(s=Me(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:Ee,o:Ee,d(l){l&&(u(e),u(i)),s&&s.d(l)}}}function Nt(r,t,e){let i,s;tt(r,at,B=>e(36,s=B));const l="http://127.0.0.1:5000";let n=He.get("username"),f=He.get("password"),o=He.get("dark")=="true",_=He.get("cardDesign"),m=He.get("theme"),h=!1,p,c="",b={p_act:"",players:[],hand_pot:0,sabacc_pot:0,phase:"",shift:0,player_turn:-1,completed:0,cycle_count:0},v=[],D=[],C=-1,I=-1,te,Q;lt(()=>{clearInterval(te)}),it(()=>{p=ut(l),p.io.on("error",B=>{console.log(B)}),p.on("connect",()=>{F()}),p.on("gameUpdate",B=>{q(B)}),p.on("clientUpdate",B=>{re(B)}),Q=new Audio("/move-sound.mp3")});let Z=!1;function F(){let B={};B={username:n??"",game_id:i??"invalid :("},p.emit("getGame",B)}function q(B){for(let N in B.gata)e(0,b[N]=B.gata[N],b);if(e(1,v=[]),b.players.forEach(N=>{B.users.indexOf(N.username)!=-1&&(v.push(N),C===N.id&&e(3,I=v.indexOf(N)))}),e(9,D=[...v]),I!=-1)for(let N=0;N<v.length;N++)e(9,D[N]=v[(N+I)%v.length],D);e(8,c="");for(let N=0;N<B.users.length;N++)N!=0&&e(8,c+=" vs. "),B.users[N],e(8,c+=B.users[N]);b.player_turn===C?Z||(Q.play(),Z=!0):Z=!1,e(7,h=!0)}function re(B){n===B.username&&e(2,C=B.user_id),q(B)}function ie(B){let N="background-image:url(",Ce="../../../../modern-theme-images/dark/",Ie="../../../../modern-theme-images/light/",xe="../../../../modern-theme-images/pescado/";return _==="classic"?(N+="../../../../images/rebels-card-back.png);",N):(_==="auto"?N+=o?Ce:Ie:_==="dark"?N+=Ce:_==="light"?N+=Ie:_==="pescado"&&(N+=xe),N+={flasks:"b",sabers:"r",staves:"g",coins:"y","negative/neutral":"p"}[B.suit],N+=B.val.toString(),N+=".png);",N)}function se(){return _==="pescado"?"background-image:url(../../../../modern-theme-images/pescado/back.png);":"background-image:url(../../../../images/rebels-card-back.png);"}function ne(B){let N={username:n,password:f,game_id:i,protect:B};p.emit("protect",N)}let P,he="",le=!1;function W(B){if(me){if((isNaN(P)||P<0||P>v[I].credits)&&B!="fold")e(10,he="Please input a number of credits you would like to bet(an integer 0 to "+v[I].credits+")");else{let N=P;le&&!isNaN(v[I].bet)&&(N=P-v[I].bet);let Ce={username:n,password:f,game_id:i,action:B,amount:N};p.emit("bet",Ce)}e(5,le=!1),e(4,P=0)}}function Ve(){I===0&&(e(4,P=0),W("bet"))}let L=!1;function pe(B){L&&e(4,P+=B)}let H=0,X=0,me=!1;function de(){e(4,P=X),W("call")}function be(){P>H&&P<=v[I].credits?W("raise"):e(10,he="Invalid amount of credits")}function we(){W("fold")}let Y=!1,ae=!1,ye=!1,ge={val:0,suit:"none",prot:!1};function ce(B){if(Y){let N={username:n,password:f,game_id:i,action:B,trade:ge};p.emit("card",N),ye=!1}}function fe(){ce("draw")}function Be(){ye=!0}function ve(B){ye&&(ge=B,ce("trade"))}function Oe(){ce("stand")}function Se(){ae&&ce("alderaan")}let A=!1;function z(){if(A){let B={username:n,password:f,game_id:i};p.emit("shift",B)}}function ke(){let B={username:n,password:f,game_id:i};p.emit("cont",B)}const M=B=>ve(B),J=B=>ne(B),ue=B=>ve(B),g=()=>pe(10),O=()=>pe(5),S=()=>pe(1);function $(){P=Te(this.value),e(4,P),e(0,b),e(2,C),e(3,I),e(1,v),e(5,le),e(6,H),e(35,X)}const Ae=()=>{W("bet"),e(11,L=!1)},x=()=>{e(5,le=!0),e(11,L=!0)};function De(){P=Te(this.value),e(4,P),e(0,b),e(2,C),e(3,I),e(1,v),e(5,le),e(6,H),e(35,X)}const Pe=()=>{be(),e(11,L=!1)},Ue=()=>{e(5,le=!0),e(11,L=!0)};function Ge(){P=Te(this.value),e(4,P),e(0,b),e(2,C),e(3,I),e(1,v),e(5,le),e(6,H),e(35,X)}const Re=()=>{be(),e(11,L=!1)};return r.$$.update=()=>{if(r.$$.dirty[1]&32&&e(16,i=s.params.game_id),r.$$.dirty[0]&79|r.$$.dirty[1]&16)if(b.player_turn===C&&b.phase==="betting"){e(12,me=!0),e(6,H=0),e(35,X=0);for(let B=0;B<v.length;B++)v[B].bet!=null&&v[B].bet>H&&e(6,H=v[B].bet);e(35,X=H-v[I].bet),isNaN(X)&&e(35,X=H)}else e(12,me=!1);r.$$.dirty[0]&127&&b.completed==0&&b.player_turn===C&&b.phase==="betting"&&(I===0&&v[I+1].bet===null&&(P==null&&e(4,P=0),e(11,L=!0)),le&&(P<=H||P==null)&&e(4,P=H+1)),r.$$.dirty[0]&5&&(b.player_turn===C?(b.phase==="card"&&(e(13,Y=!0),b.cycle_count!=0&&e(14,ae=!0)),b.phase==="alderaan"&&(e(13,Y=!0),e(14,ae=!1))):(e(13,Y=!1),e(14,ae=!1))),r.$$.dirty[0]&5&&(b.phase==="shift"&&C===b.player_turn?e(15,A=!0):e(15,A=!1))},[b,v,C,I,P,le,H,h,c,D,he,L,me,Y,ae,A,i,n,m,ie,se,ne,W,Ve,pe,de,be,we,fe,Be,ve,Oe,Se,z,ke,X,s,M,J,ue,g,O,S,$,Ae,x,De,Pe,Ue,Ge,Re]}class St extends st{constructor(t){super(),rt(this,t,Nt,Tt,et,{},null,[-1,-1,-1])}}export{St as component};
