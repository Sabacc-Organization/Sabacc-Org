import{s as xe,n as ge,d as et,f as tt,o as lt,r as pe}from"../chunks/scheduler.DFkagfZI.js";import{S as it,i as st,s as T,n as R,h as rt,d,c as N,j as I,e as v,o as A,a as k,b as g,p as U,f as a,t as ce,k as c,v as G,q as K,r as $e,g as ee,y as Ne,u as Ve}from"../chunks/index.C2iL-XhR.js";import{e as qe}from"../chunks/each.D6YF6ztN.js";import{p as nt}from"../chunks/stores.BJH6eBSf.js";import{a as Ae}from"../chunks/js.cookie.Cz0CWeBA.js";import{l as at}from"../chunks/index.CGwCSIWv.js";function je(s,t,e){const r=s.slice();return r[66]=t[e],r[68]=e,r}function Le(s,t,e){const r=s.slice();return r[69]=t[e],r[71]=e,r}function Me(s){let t,e,r,i,l=s[0].phase+"",n,_,o,h,m,f,b,u=s[0].p_act+"",p,C,E,y,w,Z,M,te=s[0].sabacc_pot+"",q,j,re,ie,le,O=s[0].hand_pot+"",me,$,oe,ne,se,X,Q,S,ae,we,ue,Ee,fe,W,be,Be,ve,De,_e,ke,Ie,Oe,Ce,F=s[0].completed==0&&Fe(s),z=s[0].completed==1&&s[0].player_turn===s[2]&&Ke(s),ye=qe(s[1]),L=[];for(let B=0;B<ye.length;B+=1)L[B]=We(je(s,ye,B));let J=!s[0].completed&&Xe(s),de=s[17]=="modern"&&Dt();return{c(){t=v("h1"),e=A(s[8]),r=T(),i=v("h2"),n=A(l),_=A(" phase"),o=T(),h=v("div"),m=v("div"),f=T(),b=v("h2"),p=A(u),C=T(),E=v("div"),y=v("div"),w=v("h5"),Z=A("Sabacc: "),M=v("span"),q=A(te),j=T(),re=v("h5"),ie=A("Hand: "),le=v("span"),me=A(O),oe=T(),ne=v("div"),se=T(),X=v("div"),F&&F.c(),Q=T(),S=v("span"),ae=v("div"),we=T(),ue=v("div"),fe=T(),W=v("div"),Be=T(),z&&z.c(),ve=T();for(let B=0;B<L.length;B+=1)L[B].c();De=T(),_e=v("div"),J&&J.c(),ke=T(),de&&de.c(),Ie=R(),this.h()},l(B){t=k(B,"H1",{});var P=g(t);e=U(P,s[8]),P.forEach(d),r=N(B),i=k(B,"H2",{});var H=g(i);n=U(H,l),_=U(H," phase"),H.forEach(d),o=N(B),h=k(B,"DIV",{id:!0});var Y=g(h);m=k(Y,"DIV",{id:!0}),g(m).forEach(d),f=N(Y),b=k(Y,"H2",{id:!0});var Ue=g(b);p=U(Ue,u),Ue.forEach(d),C=N(Y),E=k(Y,"DIV",{id:!0,class:!0});var x=g(E);y=k(x,"DIV",{id:!0,class:!0});var Te=g(y);w=k(Te,"H5",{});var Pe=g(w);Z=U(Pe,"Sabacc: "),M=k(Pe,"SPAN",{id:!0});var Re=g(M);q=U(Re,te),Re.forEach(d),Pe.forEach(d),j=N(Te),re=k(Te,"H5",{});var Ge=g(re);ie=U(Ge,"Hand: "),le=k(Ge,"SPAN",{id:!0});var D=g(le);me=U(D,O),D.forEach(d),Ge.forEach(d),Te.forEach(d),oe=N(x),ne=k(x,"DIV",{id:!0,class:!0}),g(ne).forEach(d),se=N(x),X=k(x,"DIV",{id:!0,class:!0});var V=g(X);F&&F.l(V),V.forEach(d),Q=N(x),S=k(x,"SPAN",{class:!0});var he=g(S);ae=k(he,"DIV",{id:!0,class:!0}),g(ae).forEach(d),we=N(he),ue=k(he,"DIV",{id:!0,class:!0}),g(ue).forEach(d),he.forEach(d),fe=N(x),W=k(x,"DIV",{id:!0,class:!0}),g(W).forEach(d),Be=N(x),z&&z.l(x),x.forEach(d),ve=N(Y);for(let Se=0;Se<L.length;Se+=1)L[Se].l(Y);De=N(Y),_e=k(Y,"DIV",{id:!0});var He=g(_e);J&&J.l(He),He.forEach(d),Y.forEach(d),ke=N(B),de&&de.l(B),Ie=R(),this.h()},h(){a(m,"id","table"),a(b,"id","pAction"),a(M,"id","sabacc_pot"),a(le,"id","hand_pot"),a(y,"id","pots"),a(y,"class",$="child "+s[12]+" svelte-emteyc"),ce(y,"active",s[12]),a(ne,"id","deck"),a(ne,"class","card child"),ce(ne,"active",s[13]),a(X,"id","discard"),a(X,"class","card child"),ce(X,"active",s[13]),a(ae,"id","dieOne"),a(ae,"class","child die"),a(ue,"id","dieTwo"),a(ue,"class",Ee="child die shift"+s[0].shift+" svelte-emteyc"),a(S,"class","dieContainer"),ce(S,"shiftActive",s[15]),a(W,"id","alderaan"),a(W,"class",be="child alderaan "+s[0].phase+"Blown svelte-emteyc"),ce(W,"active",s[14]),a(E,"id","gameInfo"),a(E,"class","parent"),a(_e,"id","actBox"),a(h,"id","tableCont")},m(B,P){I(B,t,P),c(t,e),I(B,r,P),I(B,i,P),c(i,n),c(i,_),I(B,o,P),I(B,h,P),c(h,m),c(h,f),c(h,b),c(b,p),c(h,C),c(h,E),c(E,y),c(y,w),c(w,Z),c(w,M),c(M,q),c(y,j),c(y,re),c(re,ie),c(re,le),c(le,me),c(E,oe),c(E,ne),c(E,se),c(E,X),F&&F.m(X,null),c(E,Q),c(E,S),c(S,ae),c(S,we),c(S,ue),c(E,fe),c(E,W),c(E,Be),z&&z.m(E,null),c(h,ve);for(let H=0;H<L.length;H+=1)L[H]&&L[H].m(h,null);c(h,De),c(h,_e),J&&J.m(_e,null),I(B,ke,P),de&&de.m(B,P),I(B,Ie,P),Oe||(Ce=[G(y,"dblclick",s[22]),G(ne,"click",s[27]),G(S,"click",s[32]),G(W,"click",s[31])],Oe=!0)},p(B,P){if(P[0]&256&&K(e,B[8]),P[0]&1&&l!==(l=B[0].phase+"")&&K(n,l),P[0]&1&&u!==(u=B[0].p_act+"")&&K(p,u),P[0]&1&&te!==(te=B[0].sabacc_pot+"")&&K(q,te),P[0]&1&&O!==(O=B[0].hand_pot+"")&&K(me,O),P[0]&4096&&$!==($="child "+B[12]+" svelte-emteyc")&&a(y,"class",$),P[0]&4096&&ce(y,"active",B[12]),P[0]&8192&&ce(ne,"active",B[13]),B[0].completed==0?F?F.p(B,P):(F=Fe(B),F.c(),F.m(X,null)):F&&(F.d(1),F=null),P[0]&8192&&ce(X,"active",B[13]),P[0]&1&&Ee!==(Ee="child die shift"+B[0].shift+" svelte-emteyc")&&a(ue,"class",Ee),P[0]&32768&&ce(S,"shiftActive",B[15]),P[0]&1&&be!==(be="child alderaan "+B[0].phase+"Blown svelte-emteyc")&&a(W,"class",be),P[0]&16385&&ce(W,"active",B[14]),B[0].completed==1&&B[0].player_turn===B[2]?z?z.p(B,P):(z=Ke(B),z.c(),z.m(E,null)):z&&(z.d(1),z=null),P[0]&547160579){ye=qe(B[1]);let H;for(H=0;H<ye.length;H+=1){const Y=je(B,ye,H);L[H]?L[H].p(Y,P):(L[H]=We(Y),L[H].c(),L[H].m(h,De))}for(;H<L.length;H+=1)L[H].d(1);L.length=ye.length}B[0].completed?J&&(J.d(1),J=null):J?J.p(B,P):(J=Xe(B),J.c(),J.m(_e,null))},d(B){B&&(d(t),d(r),d(i),d(o),d(h),d(ke),d(Ie)),F&&F.d(),z&&z.d(),$e(L,B),J&&J.d(),de&&de.d(B),Oe=!1,pe(Ce)}}}function Fe(s){let t,e=s[0].player_turn===s[2]&&ze(s);return{c(){e&&e.c(),t=R()},l(r){e&&e.l(r),t=R()},m(r,i){e&&e.m(r,i),I(r,t,i)},p(r,i){r[0].player_turn===r[2]?e?e.p(r,i):(e=ze(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&d(t),e&&e.d(r)}}}function ze(s){let t,e=(s[0].phase==="card"||s[0].phase==="alderaan")&&Je(s);return{c(){e&&e.c(),t=R()},l(r){e&&e.l(r),t=R()},m(r,i){e&&e.m(r,i),I(r,t,i)},p(r,i){r[0].phase==="card"||r[0].phase==="alderaan"?e?e.p(r,i):(e=Je(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&d(t),e&&e.d(r)}}}function Je(s){let t,e="Trade",r,i,l,n,_="Stand",o,h;return{c(){t=v("button"),t.textContent=e,r=T(),i=v("br"),l=T(),n=v("button"),n.textContent=_,this.h()},l(m){t=k(m,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1e5btwy"&&(t.textContent=e),r=N(m),i=k(m,"BR",{}),l=N(m),n=k(m,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1b6ly86"&&(n.textContent=_),this.h()},h(){a(t,"type","button"),a(t,"id","tradeBtn"),a(t,"class","btn btn-primary smol"),a(n,"type","button"),a(n,"id","standBtn"),a(n,"class","btn btn-primary smol")},m(m,f){I(m,t,f),I(m,r,f),I(m,i,f),I(m,l,f),I(m,n,f),o||(h=[G(t,"click",s[28]),G(n,"click",s[30])],o=!0)},p:ge,d(m){m&&(d(t),d(r),d(i),d(l),d(n)),o=!1,pe(h)}}}function Ke(s){let t,e="Play Again",r,i;return{c(){t=v("button"),t.textContent=e,this.h()},l(l){t=k(l,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-gyogp1"&&(t.textContent=e),this.h()},h(){a(t,"type","button"),a(t,"id","pAgainBtn"),a(t,"class","btn btn-primary")},m(l,n){I(l,t,n),r||(i=G(t,"click",s[33]),r=!0)},p:ge,d(l){l&&d(t),r=!1,i()}}}function ut(s){let t,e,r,i=(s[66].bet===null?"":s[66].bet)+"",l,n,_;return{c(){t=v("div"),e=v("h5"),r=v("div"),l=A(i),this.h()},l(o){t=k(o,"DIV",{id:!0,class:!0});var h=g(t);e=k(h,"H5",{});var m=g(e);r=k(m,"DIV",{class:!0}),g(r).forEach(d),l=U(m,i),m.forEach(d),h.forEach(d),this.h()},h(){a(r,"class","imperial-credits-logo"),a(t,"id",n=s[66].username+"BetBox"),a(t,"class",_="backRed "+(s[0].player_turn==s[66].id?"turnGlow":"noTurnGlow"))},m(o,h){I(o,t,h),c(t,e),c(e,r),c(e,l)},p(o,h){h[0]&2&&i!==(i=(o[66].bet===null?"":o[66].bet)+"")&&K(l,i),h[0]&2&&n!==(n=o[66].username+"BetBox")&&a(t,"id",n),h[0]&3&&_!==(_="backRed "+(o[0].player_turn==o[66].id?"turnGlow":"noTurnGlow"))&&a(t,"class",_)},d(o){o&&d(t)}}}function ot(s){let t,e,r,i,l=(s[66].bet===null?"":s[66].bet)+"",n,_,o,h,m,f;return{c(){t=v("div"),e=v("h5"),r=v("div"),i=v("span"),n=A(l),_=T(),o=v("div"),this.h()},l(b){t=k(b,"DIV",{id:!0,class:!0});var u=g(t);e=k(u,"H5",{});var p=g(e);r=k(p,"DIV",{class:!0}),g(r).forEach(d),i=k(p,"SPAN",{id:!0});var C=g(i);n=U(C,l),C.forEach(d),p.forEach(d),_=N(u),o=k(u,"DIV",{id:!0}),g(o).forEach(d),u.forEach(d),this.h()},h(){a(r,"class","imperial-credits-logo"),a(i,"id","betSpan"),a(o,"id",h=s[66].username+"BetPile"),a(t,"id",m=s[66].username+"BetBox"),a(t,"class",f="backBlue "+(s[0].player_turn==s[66].id?"turnGlow":"noTurnGlow"))},m(b,u){I(b,t,u),c(t,e),c(e,r),c(e,i),c(i,n),c(t,_),c(t,o)},p(b,u){u[0]&2&&l!==(l=(b[66].bet===null?"":b[66].bet)+"")&&K(n,l),u[0]&2&&h!==(h=b[66].username+"BetPile")&&a(o,"id",h),u[0]&2&&m!==(m=b[66].username+"BetBox")&&a(t,"id",m),u[0]&3&&f!==(f="backBlue "+(b[0].player_turn==b[66].id?"turnGlow":"noTurnGlow"))&&a(t,"class",f)},d(b){b&&d(t)}}}function dt(s){let t,e,r,i,l=s[69].val+"",n;return{c(){t=v("div"),r=T(),i=v("h5"),n=A(l),this.h()},l(_){t=k(_,"DIV",{class:!0,style:!0}),g(t).forEach(d),r=N(_),i=k(_,"H5",{});var o=g(i);n=U(o,l),o.forEach(d),this.h()},h(){a(t,"class","card child"),a(t,"style",e=s[18](s[69]))},m(_,o){I(_,t,o),I(_,r,o),I(_,i,o),c(i,n)},p(_,o){o[0]&2&&e!==(e=_[18](_[69]))&&a(t,"style",e),o[0]&2&&l!==(l=_[69].val+"")&&K(n,l)},d(_){_&&(d(t),d(r),d(i))}}}function ct(s){let t;function e(l,n){return l[69].prot?_t:ht}let r=e(s),i=r(s);return{c(){i.c(),t=R()},l(l){i.l(l),t=R()},m(l,n){i.m(l,n),I(l,t,n)},p(l,n){r===(r=e(l))&&i?i.p(l,n):(i.d(1),i=r(l),i&&(i.c(),i.m(t.parentNode,t)))},d(l){l&&d(t),i.d(l)}}}function ft(s){let t;function e(l,n){return l[69].prot?pt:mt}let r=e(s),i=r(s);return{c(){i.c(),t=R()},l(l){i.l(l),t=R()},m(l,n){i.m(l,n),I(l,t,n)},p(l,n){r===(r=e(l))&&i?i.p(l,n):(i.d(1),i=r(l),i&&(i.c(),i.m(t.parentNode,t)))},d(l){l&&d(t),i.d(l)}}}function _t(s){let t,e,r,i,l=s[69].val+"",n;return{c(){t=v("div"),r=T(),i=v("h5"),n=A(l),this.h()},l(_){t=k(_,"DIV",{class:!0,style:!0}),g(t).forEach(d),r=N(_),i=k(_,"H5",{class:!0});var o=g(i);n=U(o,l),o.forEach(d),this.h()},h(){a(t,"class","card child protected"),a(t,"style",e=s[18](s[69])),a(i,"class","protected")},m(_,o){I(_,t,o),I(_,r,o),I(_,i,o),c(i,n)},p(_,o){o[0]&2&&e!==(e=_[18](_[69]))&&a(t,"style",e),o[0]&2&&l!==(l=_[69].val+"")&&K(n,l)},d(_){_&&(d(t),d(r),d(i))}}}function ht(s){let t;return{c(){t=v("div"),this.h()},l(e){t=k(e,"DIV",{class:!0,style:!0}),g(t).forEach(d),this.h()},h(){a(t,"class","card child"),a(t,"style",s[19]())},m(e,r){I(e,t,r)},p:ge,d(e){e&&d(t)}}}function pt(s){let t,e,r,i,l=s[69].val+"",n,_,o;function h(){return s[37](s[69])}return{c(){t=v("div"),r=T(),i=v("h5"),n=A(l),this.h()},l(m){t=k(m,"DIV",{id:!0,class:!0,style:!0});var f=g(t);f.forEach(d),r=N(m),i=k(m,"H5",{class:!0});var b=g(i);n=U(b,l),b.forEach(d),this.h()},h(){a(t,"id","card"+s[71].toString()),a(t,"class","card child own protected"),a(t,"style",e=s[18](s[69])),a(i,"class","protected")},m(m,f){I(m,t,f),I(m,r,f),I(m,i,f),c(i,n),_||(o=G(t,"click",h),_=!0)},p(m,f){s=m,f[0]&2&&e!==(e=s[18](s[69]))&&a(t,"style",e),f[0]&2&&l!==(l=s[69].val+"")&&K(n,l)},d(m){m&&(d(t),d(r),d(i)),_=!1,o()}}}function mt(s){let t,e,r,i,l=s[69].val+"",n,_,o;function h(){return s[35](s[69])}function m(){return s[36](s[69])}return{c(){t=v("div"),r=T(),i=v("h5"),n=A(l),this.h()},l(f){t=k(f,"DIV",{id:!0,class:!0,style:!0});var b=g(t);b.forEach(d),r=N(f),i=k(f,"H5",{});var u=g(i);n=U(u,l),u.forEach(d),this.h()},h(){a(t,"id","card"+s[71].toString()),a(t,"class","card child own"),a(t,"style",e=s[18](s[69]))},m(f,b){I(f,t,b),I(f,r,b),I(f,i,b),c(i,n),_||(o=[G(t,"click",h),G(t,"dblclick",m)],_=!0)},p(f,b){s=f,b[0]&2&&e!==(e=s[18](s[69]))&&a(t,"style",e),b[0]&2&&l!==(l=s[69].val+"")&&K(n,l)},d(f){f&&(d(t),d(r),d(i)),_=!1,pe(o)}}}function Qe(s){let t,e;function r(n,_){if(n[66].username===n[16])return ft;if(n[0].completed==0)return ct;if(n[0].completed==1)return dt}let i=r(s),l=i&&i(s);return{c(){t=v("div"),l&&l.c(),e=T(),this.h()},l(n){t=k(n,"DIV",{class:!0});var _=g(t);l&&l.l(_),e=N(_),_.forEach(d),this.h()},h(){a(t,"class","cardContainer")},m(n,_){I(n,t,_),l&&l.m(t,null),c(t,e)},p(n,_){i===(i=r(n))&&l?l.p(n,_):(l&&l.d(1),l=i&&i(n),l&&(l.c(),l.m(t,e)))},d(n){n&&d(t),l&&l.d()}}}function bt(s){let t,e,r=s[66].username+"",i,l,n,_='<div class="chip bigChip child"></div> <div class="chip midChip child"></div> <div class="chip lowChip child"></div>',o,h,m,f,b=s[66].credits+"",u,p,C,E;return{c(){t=v("div"),e=v("h5"),i=A(r),l=T(),n=v("div"),n.innerHTML=_,o=T(),h=v("h5"),m=v("div"),f=v("span"),u=A(b),this.h()},l(y){t=k(y,"DIV",{id:!0,class:!0});var w=g(t);e=k(w,"H5",{});var Z=g(e);i=U(Z,r),Z.forEach(d),l=N(w),n=k(w,"DIV",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-oonv3d"&&(n.innerHTML=_),o=N(w),h=k(w,"H5",{});var M=g(h);m=k(M,"DIV",{class:!0}),g(m).forEach(d),f=k(M,"SPAN",{id:!0});var te=g(f);u=U(te,b),te.forEach(d),M.forEach(d),w.forEach(d),this.h()},h(){a(n,"class","parent"),a(m,"class","imperial-credits-logo"),a(f,"id",p=s[66].username+"_credits"),a(t,"id",C=s[66].username+"Box"),a(t,"class",E="backRed "+(s[0].player_turn==s[66].id?"turnGlow":"noTurnGlow")+" playerBox")},m(y,w){I(y,t,w),c(t,e),c(e,i),c(t,l),c(t,n),c(t,o),c(t,h),c(h,m),c(h,f),c(f,u)},p(y,w){w[0]&2&&r!==(r=y[66].username+"")&&K(i,r),w[0]&2&&b!==(b=y[66].credits+"")&&K(u,b),w[0]&2&&p!==(p=y[66].username+"_credits")&&a(f,"id",p),w[0]&2&&C!==(C=y[66].username+"Box")&&a(t,"id",C),w[0]&3&&E!==(E="backRed "+(y[0].player_turn==y[66].id?"turnGlow":"noTurnGlow")+" playerBox")&&a(t,"class",E)},d(y){y&&d(t)}}}function vt(s){let t,e,r=s[66].username+"",i,l,n,_,o,h,m,f,b,u,p,C,E=s[66].credits+"",y,w,Z,M,te;return{c(){t=v("div"),e=v("h5"),i=A(r),l=T(),n=v("div"),_=v("div"),o=T(),h=v("div"),m=T(),f=v("div"),b=T(),u=v("h5"),p=v("div"),C=v("span"),y=A(E),this.h()},l(q){t=k(q,"DIV",{id:!0,class:!0});var j=g(t);e=k(j,"H5",{});var re=g(e);i=U(re,r),re.forEach(d),l=N(j),n=k(j,"DIV",{class:!0});var ie=g(n);_=k(ie,"DIV",{class:!0}),g(_).forEach(d),o=N(ie),h=k(ie,"DIV",{class:!0}),g(h).forEach(d),m=N(ie),f=k(ie,"DIV",{class:!0}),g(f).forEach(d),ie.forEach(d),b=N(j),u=k(j,"H5",{});var le=g(u);p=k(le,"DIV",{class:!0}),g(p).forEach(d),C=k(le,"SPAN",{id:!0});var O=g(C);y=U(O,E),O.forEach(d),le.forEach(d),j.forEach(d),this.h()},h(){a(_,"class","ownChip child chip bigChip"),a(h,"class","ownChip child chip midChip"),a(f,"class","ownChip child chip lowChip"),a(n,"class","parent"),a(p,"class","imperial-credits-logo"),a(C,"id","credits"),a(t,"id",w=s[66].username+"Box"),a(t,"class",Z="backBlue "+(s[0].player_turn==s[66].id?"turnGlow":"noTurnGlow")+" playerBox")},m(q,j){I(q,t,j),c(t,e),c(e,i),c(t,l),c(t,n),c(n,_),c(n,o),c(n,h),c(n,m),c(n,f),c(t,b),c(t,u),c(u,p),c(u,C),c(C,y),M||(te=[G(_,"click",s[38]),G(h,"click",s[39]),G(f,"click",s[40])],M=!0)},p(q,j){j[0]&2&&r!==(r=q[66].username+"")&&K(i,r),j[0]&2&&E!==(E=q[66].credits+"")&&K(y,E),j[0]&2&&w!==(w=q[66].username+"Box")&&a(t,"id",w),j[0]&3&&Z!==(Z="backBlue "+(q[0].player_turn==q[66].id?"turnGlow":"noTurnGlow")+" playerBox")&&a(t,"class",Z)},d(q){q&&d(t),M=!1,pe(te)}}}function We(s){let t,e,r,i,l,n;function _(C,E){return C[66].username===C[16]?ot:ut}let o=_(s),h=o(s),m=qe(s[1][s[68]].hand),f=[];for(let C=0;C<m.length;C+=1)f[C]=Qe(Le(s,m,C));function b(C,E){return C[66].username===C[16]?vt:bt}let u=b(s),p=u(s);return{c(){t=v("div"),h.c(),e=T(),r=v("div");for(let C=0;C<f.length;C+=1)f[C].c();i=T(),p.c(),this.h()},l(C){t=k(C,"DIV",{id:!0,class:!0});var E=g(t);h.l(E),e=N(E),r=k(E,"DIV",{class:!0});var y=g(r);for(let w=0;w<f.length;w+=1)f[w].l(y);y.forEach(d),i=N(E),p.l(E),E.forEach(d),this.h()},h(){a(r,"class","cardsContainer"),a(t,"id",l=s[66].username+"Stuff"),a(t,"class",n="parent player"+s[9].indexOf(s[66])+" svelte-emteyc")},m(C,E){I(C,t,E),h.m(t,null),c(t,e),c(t,r);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(r,null);c(t,i),p.m(t,null)},p(C,E){if(o===(o=_(C))&&h?h.p(C,E):(h.d(1),h=o(C),h&&(h.c(),h.m(t,e))),E[0]&538771459){m=qe(C[1][C[68]].hand);let y;for(y=0;y<m.length;y+=1){const w=Le(C,m,y);f[y]?f[y].p(w,E):(f[y]=Qe(w),f[y].c(),f[y].m(r,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=m.length}u===(u=b(C))&&p?p.p(C,E):(p.d(1),p=u(C),p&&(p.c(),p.m(t,null))),E[0]&2&&l!==(l=C[66].username+"Stuff")&&a(t,"id",l),E[0]&514&&n!==(n="parent player"+C[9].indexOf(C[66])+" svelte-emteyc")&&a(t,"class",n)},d(C){C&&d(t),h.d(),$e(f,C),p.d()}}}function Xe(s){let t,e=s[0].player_turn===s[2]&&Ye(s);return{c(){e&&e.c(),t=R()},l(r){e&&e.l(r),t=R()},m(r,i){e&&e.m(r,i),I(r,t,i)},p(r,i){r[0].player_turn===r[2]?e?e.p(r,i):(e=Ye(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&d(t),e&&e.d(r)}}}function Ye(s){let t,e=s[0].phase==="betting"&&Ze(s);return{c(){e&&e.c(),t=R()},l(r){e&&e.l(r),t=R()},m(r,i){e&&e.m(r,i),I(r,t,i)},p(r,i){r[0].phase==="betting"?e?e.p(r,i):(e=Ze(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&d(t),e&&e.d(r)}}}function Ze(s){let t;function e(l,n){return l[3]===0?Ct:l[5]===!1?yt:kt}let r=e(s),i=r(s);return{c(){i.c(),t=R()},l(l){i.l(l),t=R()},m(l,n){i.m(l,n),I(l,t,n)},p(l,n){r===(r=e(l))&&i?i.p(l,n):(i.d(1),i=r(l),i&&(i.c(),i.m(t.parentNode,t)))},d(l){l&&d(t),i.d(l)}}}function kt(s){let t,e,r,i,l,n,_="Raise",o,h,m,f,b;return{c(){t=v("div"),e=v("input"),l=T(),n=v("button"),n.textContent=_,o=T(),h=v("p"),m=A(s[10]),this.h()},l(u){t=k(u,"DIV",{id:!0,class:!0});var p=g(t);e=k(p,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),l=N(p),n=k(p,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1amzelr"&&(n.textContent=_),o=N(p),h=k(p,"P",{class:!0});var C=g(h);m=U(C,s[10]),C.forEach(d),p.forEach(d),this.h()},h(){a(e,"id","raiseCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min",r=s[6]+1),a(e,"max",i=s[1][s[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(n,"id","raiseBtn"),a(n,"type","button"),a(n,"class","btn btn-primary"),a(h,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(u,p){I(u,t,p),c(t,e),Ve(e,s[4]),c(t,l),c(t,n),c(t,o),c(t,h),c(h,m),f||(b=[G(e,"input",s[47]),G(n,"click",s[48])],f=!0)},p(u,p){p[0]&64&&r!==(r=u[6]+1)&&a(e,"min",r),p[0]&10&&i!==(i=u[1][u[3]].credits)&&a(e,"max",i),p[0]&16&&Ne(e.value)!==u[4]&&Ve(e,u[4]),p[0]&1024&&K(m,u[10])},d(u){u&&d(t),f=!1,pe(b)}}}function yt(s){let t,e,r="Call",i,l,n="Raise",_,o,h="Fold",m,f;return{c(){t=v("div"),e=v("button"),e.textContent=r,i=T(),l=v("button"),l.textContent=n,_=T(),o=v("button"),o.textContent=h,this.h()},l(b){t=k(b,"DIV",{id:!0,class:!0});var u=g(t);e=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-p5xdvm"&&(e.textContent=r),i=N(u),l=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-18a1yjq"&&(l.textContent=n),_=N(u),o=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1p1dlkj"&&(o.textContent=h),u.forEach(d),this.h()},h(){a(e,"type","button"),a(e,"id","callOpt"),a(e,"class","btn btn-primary"),a(l,"type","button"),a(l,"id","raiseOpt"),a(l,"class","btn btn-primary"),a(o,"type","button"),a(o,"id","foldOpt"),a(o,"class","btn btn-primary"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(b,u){I(b,t,u),c(t,e),c(t,i),c(t,l),c(t,_),c(t,o),m||(f=[G(e,"click",s[24]),G(l,"click",s[46]),G(o,"click",s[26])],m=!0)},p:ge,d(b){b&&d(t),m=!1,pe(f)}}}function Ct(s){let t;function e(l,n){return l[1][l[3]+1].bet===null?Bt:l[5]===!1?Et:gt}let r=e(s),i=r(s);return{c(){i.c(),t=R()},l(l){i.l(l),t=R()},m(l,n){i.m(l,n),I(l,t,n)},p(l,n){r===(r=e(l))&&i?i.p(l,n):(i.d(1),i=r(l),i&&(i.c(),i.m(t.parentNode,t)))},d(l){l&&d(t),i.d(l)}}}function gt(s){let t,e,r,i,l,n,_="Raise",o,h,m,f,b;return{c(){t=v("div"),e=v("input"),l=T(),n=v("button"),n.textContent=_,o=T(),h=v("p"),m=A(s[10]),this.h()},l(u){t=k(u,"DIV",{id:!0,class:!0});var p=g(t);e=k(p,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),l=N(p),n=k(p,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-16eig2l"&&(n.textContent=_),o=N(p),h=k(p,"P",{class:!0});var C=g(h);m=U(C,s[10]),C.forEach(d),p.forEach(d),this.h()},h(){a(e,"id","raiseCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min",r=s[6]+1),a(e,"max",i=s[1][s[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(n,"id","raiseBtn"),a(n,"type","button"),a(n,"class","btn btn-primary"),a(h,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(u,p){I(u,t,p),c(t,e),Ve(e,s[4]),c(t,l),c(t,n),c(t,o),c(t,h),c(h,m),f||(b=[G(e,"input",s[44]),G(n,"click",s[45])],f=!0)},p(u,p){p[0]&64&&r!==(r=u[6]+1)&&a(e,"min",r),p[0]&10&&i!==(i=u[1][u[3]].credits)&&a(e,"max",i),p[0]&16&&Ne(e.value)!==u[4]&&Ve(e,u[4]),p[0]&1024&&K(m,u[10])},d(u){u&&d(t),f=!1,pe(b)}}}function Et(s){let t,e,r="Call",i,l,n="Raise",_,o,h="Fold",m,f;return{c(){t=v("div"),e=v("button"),e.textContent=r,i=T(),l=v("button"),l.textContent=n,_=T(),o=v("button"),o.textContent=h,this.h()},l(b){t=k(b,"DIV",{id:!0,class:!0});var u=g(t);e=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-p5xdvm"&&(e.textContent=r),i=N(u),l=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-18a1yjq"&&(l.textContent=n),_=N(u),o=k(u,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-1p1dlkj"&&(o.textContent=h),u.forEach(d),this.h()},h(){a(e,"type","button"),a(e,"id","callOpt"),a(e,"class","btn btn-primary"),a(l,"type","button"),a(l,"id","raiseOpt"),a(l,"class","btn btn-primary"),a(o,"type","button"),a(o,"id","foldOpt"),a(o,"class","btn btn-primary"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(b,u){I(b,t,u),c(t,e),c(t,i),c(t,l),c(t,_),c(t,o),m||(f=[G(e,"click",s[24]),G(l,"click",s[43]),G(o,"click",s[26])],m=!0)},p:ge,d(b){b&&d(t),m=!1,pe(f)}}}function Bt(s){let t,e,r,i,l,n="Bet",_,o,h,m,f;return{c(){t=v("div"),e=v("input"),i=T(),l=v("button"),l.textContent=n,_=T(),o=v("p"),h=A(s[10]),this.h()},l(b){t=k(b,"DIV",{id:!0,class:!0});var u=g(t);e=k(u,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0,placeholder:!0}),i=N(u),l=k(u,"BUTTON",{id:!0,type:!0,class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-9v29r"&&(l.textContent=n),_=N(u),o=k(u,"P",{class:!0});var p=g(o);h=U(p,s[10]),p.forEach(d),u.forEach(d),this.h()},h(){a(e,"id","betCredits"),a(e,"type","number"),a(e,"class","form-control form-group"),a(e,"min","0"),a(e,"max",r=s[1][s[3]].credits),a(e,"placeholder","Credits"),e.required=!0,a(l,"id","betBtn"),a(l,"type","button"),a(l,"class","btn btn-primary"),a(o,"class","red"),a(t,"id","betDiv"),a(t,"class","backBlue brightBlue")},m(b,u){I(b,t,u),c(t,e),Ve(e,s[4]),c(t,i),c(t,l),c(t,_),c(t,o),c(o,h),m||(f=[G(e,"input",s[41]),G(l,"click",s[42])],m=!0)},p(b,u){u[0]&10&&r!==(r=b[1][b[3]].credits)&&a(e,"max",r),u[0]&16&&Ne(e.value)!==b[4]&&Ve(e,b[4]),u[0]&1024&&K(h,b[10])},d(b){b&&d(t),m=!1,pe(f)}}}function Dt(s){let t,e='<a href="http://creativecommons.org/licenses/by-sa/4.0/"><div id="jacob-densford-credit-attribution"></div></a> <a href="http://creativecommons.org/licenses/by-sa/4.0/">Credit to Jacob Densford for table and betting chip design</a>';return{c(){t=v("div"),t.innerHTML=e,this.h()},l(r){t=k(r,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1npx5dp"&&(t.innerHTML=e),this.h()},h(){a(t,"class","credit-attribution")},m(r,i){I(r,t,i)},d(r){r&&d(t)}}}function It(s){let t,e,r;document.title=t="Sabacc: Game "+game_id;let i=s[7]&&Me(s);return{c(){e=T(),i&&i.c(),r=R()},l(l){rt("svelte-1k8k4nw",document.head).forEach(d),e=N(l),i&&i.l(l),r=R()},m(l,n){I(l,e,n),i&&i.m(l,n),I(l,r,n)},p(l,n){n&0&&t!==(t="Sabacc: Game "+game_id)&&(document.title=t),l[7]?i?i.p(l,n):(i=Me(l),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:ge,o:ge,d(l){l&&(d(e),d(r)),i&&i.d(l)}}}function Tt(s,t,e){let r;et(s,nt,D=>e(54,r=D));const i="http://127.0.0.1:5000";let l=Ae.get("username"),n=Ae.get("password"),_=Ae.get("dark")=="true",o=Ae.get("cardDesign"),h=Ae.get("theme"),m=!1,f,b="";r.url;let u={p_act:"",players:[],hand_pot:0,sabacc_pot:0,phase:"",shift:0,player_turn:-1,completed:0,cycle_count:0},p=[],C=[],E=-1,y=-1,w,Z;tt(()=>{clearInterval(w)}),lt(()=>{f=at(i),f.io.on("error",D=>{console.log(D)}),f.on("connect",()=>{te()}),f.on("gameUpdate",D=>{q(D)}),f.on("clientUpdate",D=>{j(D)}),Z=new Audio("/move-sound.mp3")});let M=!1;function te(){let D={};D={username:l??"",game_id:game_id!=null?game_id:"invalid :("},f.emit("getGame",D)}function q(D){for(let V in D.gata)e(0,u[V]=D.gata[V],u);if(e(1,p=[]),u.players.forEach(V=>{D.users.indexOf(V.username)!=-1&&(p.push(V),E===V.id&&e(3,y=p.indexOf(V)))}),e(9,C=[...p]),y!=-1)for(let V=0;V<p.length;V++)e(9,C[V]=p[(V+y)%p.length],C);e(8,b="");for(let V=0;V<D.users.length;V++)V!=0&&e(8,b+=" vs. "),D.users[V],e(8,b+=D.users[V]);u.player_turn===E?M||(Z.play(),M=!0):M=!1,e(7,m=!0)}function j(D){l===D.username&&e(2,E=D.user_id),q(D)}function re(D){let V="background-image:url(",he="../../../../modern-theme-images/dark/",He="../../../../modern-theme-images/light/",Se="../../../../modern-theme-images/pescado/";return o==="classic"?(V+="../../../../images/rebels-card-back.png);",V):(o==="auto"?V+=_?he:He:o==="dark"?V+=he:o==="light"?V+=He:o==="pescado"&&(V+=Se),V+={flasks:"b",sabers:"r",staves:"g",coins:"y","negative/neutral":"p"}[D.suit],V+=D.val.toString(),V+=".png);",V)}function ie(){return o==="pescado"?"background-image:url(../../../../modern-theme-images/pescado/back.png);":"background-image:url(../../../../images/rebels-card-back.png);"}function le(D){let V={username:l,password:n,game_id,protect:D};f.emit("protect",V)}let O,me="",$=!1;function oe(D){if(ae){if((isNaN(O)||O<0||O>p[y].credits)&&D!="fold")e(10,me="Please input a number of credits you would like to bet(an integer 0 to "+p[y].credits+")");else{let V=O;$&&!isNaN(p[y].bet)&&(V=O-p[y].bet);let he={username:l,password:n,game_id,action:D,amount:V};f.emit("bet",he)}e(5,$=!1),e(4,O=0)}}function ne(){y===0&&(e(4,O=0),oe("bet"))}let se=!1;function X(D){se&&e(4,O+=D)}let Q=0,S=0,ae=!1;function we(){e(4,O=S),oe("call")}function ue(){O>Q&&O<=p[y].credits?oe("raise"):e(10,me="Invalid amount of credits")}function Ee(){oe("fold")}let fe=!1,W=!1,be=!1,Be={val:0,suit:"none",prot:!1};function ve(D){if(fe){let V={username:l,password:n,game_id,action:D,trade:Be};f.emit("card",V),be=!1}}function De(){ve("draw")}function _e(){be=!0}function ke(D){be&&(Be=D,ve("trade"))}function Ie(){ve("stand")}function Oe(){W&&ve("alderaan")}let Ce=!1;function F(){if(Ce){let D={username:l,password:n,game_id};f.emit("shift",D)}}function z(){let D={username:l,password:n,game_id};f.emit("cont",D)}const ye=D=>ke(D),L=D=>le(D),J=D=>ke(D),de=()=>X(10),B=()=>X(5),P=()=>X(1);function H(){O=Ne(this.value),e(4,O),e(0,u),e(2,E),e(3,y),e(1,p),e(5,$),e(6,Q),e(34,S)}const Y=()=>{oe("bet"),e(11,se=!1)},Ue=()=>{e(5,$=!0),e(11,se=!0)};function x(){O=Ne(this.value),e(4,O),e(0,u),e(2,E),e(3,y),e(1,p),e(5,$),e(6,Q),e(34,S)}const Te=()=>{ue(),e(11,se=!1)},Pe=()=>{e(5,$=!0),e(11,se=!0)};function Re(){O=Ne(this.value),e(4,O),e(0,u),e(2,E),e(3,y),e(1,p),e(5,$),e(6,Q),e(34,S)}const Ge=()=>{ue(),e(11,se=!1)};return s.$$.update=()=>{if(s.$$.dirty[0]&79|s.$$.dirty[1]&8)if(u.player_turn===E&&u.phase==="betting"){e(12,ae=!0),e(6,Q=0),e(34,S=0);for(let D=0;D<p.length;D++)p[D].bet!=null&&p[D].bet>Q&&e(6,Q=p[D].bet);e(34,S=Q-p[y].bet),isNaN(S)&&e(34,S=Q)}else e(12,ae=!1);s.$$.dirty[0]&127&&u.completed==0&&u.player_turn===E&&u.phase==="betting"&&(y===0&&p[y+1].bet===null&&(O==null&&e(4,O=0),e(11,se=!0)),$&&(O<=Q||O==null)&&e(4,O=Q+1)),s.$$.dirty[0]&5&&(u.player_turn===E?(u.phase==="card"&&(e(13,fe=!0),u.cycle_count!=0&&e(14,W=!0)),u.phase==="alderaan"&&(e(13,fe=!0),e(14,W=!1))):(e(13,fe=!1),e(14,W=!1))),s.$$.dirty[0]&5&&(u.phase==="shift"&&E===u.player_turn?e(15,Ce=!0):e(15,Ce=!1))},[u,p,E,y,O,$,Q,m,b,C,me,se,ae,fe,W,Ce,l,h,re,ie,le,oe,ne,X,we,ue,Ee,De,_e,ke,Ie,Oe,F,z,S,ye,L,J,de,B,P,H,Y,Ue,x,Te,Pe,Re,Ge]}class Ht extends it{constructor(t){super(),st(this,t,Tt,It,xe,{},null,[-1,-1,-1])}}export{Ht as component};
