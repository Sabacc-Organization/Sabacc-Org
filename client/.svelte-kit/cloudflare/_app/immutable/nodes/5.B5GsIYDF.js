import{s as le,n as Q,r as Y,o as ue}from"../chunks/scheduler.DFkagfZI.js";import{S as ie,i as pe,s as w,e as S,o as se,h as oe,d as r,c as I,a as O,g as W,b as re,p as fe,f as p,j as f,u as N,k as ae,v as k,q as ne}from"../chunks/index.C2iL-XhR.js";import{a as K}from"../chunks/js.cookie.Cz0CWeBA.js";import{c as me,a as V}from"../chunks/index.B033ejRg.js";function X(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player3"),p(e,"name","player3"),p(e,"placeholder","Player 3"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[2]),u||(n=[k(e,"input",i[11]),k(e,"input",i[8])],u=!0)},p(l,o){o&4&&e.value!==l[2]&&N(e,l[2])},d(l){l&&r(e),u=!1,Y(n)}}}function Z(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player4"),p(e,"name","player4"),p(e,"placeholder","Player 4"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[3]),u||(n=[k(e,"input",i[12]),k(e,"input",i[8])],u=!0)},p(l,o){o&8&&e.value!==l[3]&&N(e,l[3])},d(l){l&&r(e),u=!1,Y(n)}}}function $(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player5"),p(e,"name","player5"),p(e,"placeholder","Player 5"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[4]),u||(n=[k(e,"input",i[13]),k(e,"input",i[8])],u=!0)},p(l,o){o&16&&e.value!==l[4]&&N(e,l[4])},d(l){l&&r(e),u=!1,Y(n)}}}function x(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player6"),p(e,"name","player6"),p(e,"placeholder","Player 6"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[5]),u||(n=[k(e,"input",i[14]),k(e,"input",i[8])],u=!0)},p(l,o){o&32&&e.value!==l[5]&&N(e,l[5])},d(l){l&&r(e),u=!1,Y(n)}}}function ee(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player7"),p(e,"name","player7"),p(e,"placeholder","Player 7"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[6]),u||(n=[k(e,"input",i[15]),k(e,"input",i[8])],u=!0)},p(l,o){o&64&&e.value!==l[6]&&N(e,l[6])},d(l){l&&r(e),u=!1,Y(n)}}}function te(i){let e,u,n;return{c(){e=S("input"),this.h()},l(l){e=O(l,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),this.h()},h(){p(e,"autocomplete","off"),p(e,"class","form-control form-group"),p(e,"id","player8"),p(e,"name","player8"),p(e,"placeholder","Player 8"),p(e,"type","text")},m(l,o){f(l,e,o),N(e,i[7]),u||(n=[k(e,"input",i[16]),k(e,"input",i[8])],u=!0)},p(l,o){o&128&&e.value!==l[7]&&N(e,l[7])},d(l){l&&r(e),u=!1,Y(n)}}}function he(i){let e,u,n="Host a game of Sabacc",l,o,j,B,H="Who would you like to play Sabacc with? Enter your opponent's username.",m,a,E,P,C,T,v,U,D,A,M,R,J="Play",g,L,z,F,q,h=i[1]!=""&&X(i),c=i[2]!=""&&Z(i),_=i[3]!=""&&$(i),y=i[4]!=""&&x(i),d=i[5]!=""&&ee(i),b=i[6]!=""&&te(i);return{c(){e=w(),u=S("h2"),u.textContent=n,l=w(),o=S("br"),j=w(),B=S("h5"),B.textContent=H,m=w(),a=S("input"),E=w(),h&&h.c(),P=w(),c&&c.c(),C=w(),_&&_.c(),T=w(),y&&y.c(),v=w(),d&&d.c(),U=w(),b&&b.c(),D=w(),A=S("br"),M=w(),R=S("button"),R.textContent=J,g=w(),L=S("p"),z=se(i[0]),this.h()},l(t){oe("svelte-ri7zbw",document.head).forEach(r),e=I(t),u=O(t,"H2",{"data-svelte-h":!0}),W(u)!=="svelte-1gglm3d"&&(u.textContent=n),l=I(t),o=O(t,"BR",{}),j=I(t),B=O(t,"H5",{"data-svelte-h":!0}),W(B)!=="svelte-t1gu5e"&&(B.textContent=H),m=I(t),a=O(t,"INPUT",{autocomplete:!0,class:!0,id:!0,name:!0,placeholder:!0,type:!0}),E=I(t),h&&h.l(t),P=I(t),c&&c.l(t),C=I(t),_&&_.l(t),T=I(t),y&&y.l(t),v=I(t),d&&d.l(t),U=I(t),b&&b.l(t),D=I(t),A=O(t,"BR",{}),M=I(t),R=O(t,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),W(R)!=="svelte-1khyfp1"&&(R.textContent=J),g=I(t),L=O(t,"P",{});var G=re(L);z=fe(G,i[0]),G.forEach(r),this.h()},h(){document.title="Sabacc: Host",p(a,"autocomplete","off"),a.autofocus=!0,p(a,"class","form-control form-group"),p(a,"id","player2"),p(a,"name","player2"),p(a,"placeholder","Player 2"),p(a,"type","text"),a.required=!0,p(R,"class","btn btn-primary"),p(R,"type","submit")},m(t,s){f(t,e,s),f(t,u,s),f(t,l,s),f(t,o,s),f(t,j,s),f(t,B,s),f(t,m,s),f(t,a,s),N(a,i[1]),f(t,E,s),h&&h.m(t,s),f(t,P,s),c&&c.m(t,s),f(t,C,s),_&&_.m(t,s),f(t,T,s),y&&y.m(t,s),f(t,v,s),d&&d.m(t,s),f(t,U,s),b&&b.m(t,s),f(t,D,s),f(t,A,s),f(t,M,s),f(t,R,s),f(t,g,s),f(t,L,s),ae(L,z),a.focus(),F||(q=[k(a,"input",i[10]),k(a,"input",i[8]),k(R,"click",i[9])],F=!0)},p(t,[s]){s&2&&a.value!==t[1]&&N(a,t[1]),t[1]!=""?h?h.p(t,s):(h=X(t),h.c(),h.m(P.parentNode,P)):h&&(h.d(1),h=null),t[2]!=""?c?c.p(t,s):(c=Z(t),c.c(),c.m(C.parentNode,C)):c&&(c.d(1),c=null),t[3]!=""?_?_.p(t,s):(_=$(t),_.c(),_.m(T.parentNode,T)):_&&(_.d(1),_=null),t[4]!=""?y?y.p(t,s):(y=x(t),y.c(),y.m(v.parentNode,v)):y&&(y.d(1),y=null),t[5]!=""?d?d.p(t,s):(d=ee(t),d.c(),d.m(U.parentNode,U)):d&&(d.d(1),d=null),t[6]!=""?b?b.p(t,s):(b=te(t),b.c(),b.m(D.parentNode,D)):b&&(b.d(1),b=null),s&1&&ne(z,t[0])},i:Q,o:Q,d(t){t&&(r(e),r(u),r(l),r(o),r(j),r(B),r(m),r(a),r(E),r(P),r(C),r(T),r(v),r(U),r(D),r(A),r(M),r(R),r(g),r(L)),h&&h.d(t),c&&c.d(t),_&&_.d(t),y&&y.d(t),d&&d.d(t),b&&b.d(t),F=!1,Y(q)}}}function ce(i,e,u){const n="http://127.0.0.1:5000",l="https://sabacc.pages.dev";let o=!1,j=K.get("username"),B=K.get("password");K.get("dark"),K.get("theme");let H="";ue(async()=>{o=await me(j,B,n),o||V(l+"/login")});let m=[],a="",E="",P="",C="",T="",v="",U="";function D(){m=[],a===""?u(2,E=""):m.push(a),E===""?u(3,P=""):m.push(E),P===""?u(4,C=""):m.push(P),C===""?u(5,T=""):m.push(C),T===""?u(6,v=""):m.push(T),v===""?u(7,U=""):(m.push(v),U!=""&&m.push(U))}async function A(){if(m.length>7){u(0,H="You can only have a maximum of eight players");return}else if(m.length<1){u(0,H="You cannot play alone");return}if(m.indexOf(j)!=-1){u(0,H="You cannot play with yourself");return}for(let q=0;q<m.length;q++)if(m.lastIndexOf(m[q])!=q){u(0,H="All players must be different");return}try{let q={username:j,password:B,players:m};const h=await fetch(n+"/host",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});let c=await h.json();h.ok&&V(l+c.redirect),u(0,H=c.message)}catch(q){console.log(q)}}function M(){a=this.value,u(1,a)}function R(){E=this.value,u(2,E)}function J(){P=this.value,u(3,P)}function g(){C=this.value,u(4,C)}function L(){T=this.value,u(5,T)}function z(){v=this.value,u(6,v)}function F(){U=this.value,u(7,U)}return[H,a,E,P,C,T,v,U,D,A,M,R,J,g,L,z,F]}class ke extends ie{constructor(e){super(),pe(this,e,ce,he,le,{})}}export{ke as component};
